# 【UE4】プラグインをテンプレートから作る場合の留意事項（その３）

## ■はじめに

### ●この記事は何？

[【UE4】プラグインをテンプレートから作る場合の留意事項（その２）]の続きです。
上記の記事で扱わなかった、以下の点の対処方法について纏めたものです。

* モジュールアンロード後、再びロードしてもツールバー上にボタンが戻らない

### ●対処方法？

結論から書いておきます。

* ツールバーを一度消して再構築すればよいです。

### ●環境

| ツール名 | バージョン |
| ---- | ---- |
| UE4 | 4.24.2 |
| Visual Studio | Community 2017 |

* 記事内の UE4 Editor のメニュー項目名は言語設定が English 状態の内容となっています。
* 必要であれば言語設定を変更しておいてください。
	* 「エディタの環境設定 > 国際化 > 言語設定」を「English」に変更

### ●想定している読者

* エディタ拡張初心者
* プラグイン作成初心者
* C++ が使える方
* [【UE4】プラグインをテンプレートから作る場合の留意事項（その２）]をすでに読んでいること

## ■対処方法

### ●行うこと

* [【UE4】プラグインをテンプレートから作る場合の留意事項（その２）]でのツールバー上に生成したボタンに関するアプローチで「一度ツールバーを作り直す。」を選ぶ
* ```FESWSampleModule::StartupModule()``` の末尾あたりで ```RefreshLevelEditorToolBar()``` の呼び出しを追加

### ●具体的なコード

```cpp:ESWSample.cpp
//省略...
void FESWSampleModule::StartupModule()
{
//省略...
	RefreshLevelEditorToolBar(); // これを追加
}
//省略...
```

以上で、モジュールが破棄される際にタブが閉じられます。

## ■結果

モジュールアンロード後、再びロードした際にツールバー上にボタンが生成されるようになりました。

## ■あとがき

この記事はとても短いですが、[その２]が長すぎましたし、話題がブレるので、ここだけ分割しました。

## ■関連記事

* [【UE4】プラグインをテンプレートから作る場合の留意事項（その１）]
* [【UE4】プラグインをテンプレートから作る場合の留意事項（その２）]
* [【UE4】プラグインをテンプレートから作る場合の留意事項（その３）]
* [【UE4】プラグインをテンプレートから作る場合の留意事項（その４）]
* [【UE4】プラグインをテンプレートから作る場合の留意事項（その５）]

[【UE4】プラグインをテンプレートから作る場合の留意事項（その１）]:https://qiita.com/sentyaanko/items/23b0919af4b6fabd8378
[【UE4】プラグインをテンプレートから作る場合の留意事項（その２）]:https://qiita.com/sentyaanko/items/a639dc9b2e56690ca9f2
[【UE4】プラグインをテンプレートから作る場合の留意事項（その３）]:https://qiita.com/sentyaanko/items/6b13158a71c2a83d9296
[【UE4】プラグインをテンプレートから作る場合の留意事項（その４）]:https://qiita.com/sentyaanko/items/4874f092b764ac213ba6
[【UE4】プラグインをテンプレートから作る場合の留意事項（その５）]:https://qiita.com/sentyaanko/items/e44b146b7cbc8ce46be7
[その１]:https://qiita.com/sentyaanko/items/23b0919af4b6fabd8378
[その２]:https://qiita.com/sentyaanko/items/a639dc9b2e56690ca9f2
[その３]:https://qiita.com/sentyaanko/items/6b13158a71c2a83d9296
[その４]:https://qiita.com/sentyaanko/items/4874f092b764ac213ba6
[その５]:https://qiita.com/sentyaanko/items/e44b146b7cbc8ce46be7

----
おしまい。

